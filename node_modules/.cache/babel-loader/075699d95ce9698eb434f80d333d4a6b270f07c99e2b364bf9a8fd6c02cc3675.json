{"ast":null,"code":"import _objectSpread from\"D:/usx-tienda/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect}from'react';// Crear el contexto\nimport{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();// Reducer para manejar acciones del carrito\nconst cartReducer=(state,action)=>{switch(action.type){case'ADD_TO_CART':// Verificar si el producto ya está en el carrito\nconst existingProduct=state.find(item=>item.id===action.payload.id);if(existingProduct){return state.map(item=>item.id===action.payload.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+action.payload.quantity}):item);}return[...state,action.payload];case'REMOVE_FROM_CART':return state.filter(item=>item.id!==action.payload.id);case'UPDATE_QUANTITY':return state.map(item=>item.id===action.payload.id?_objectSpread(_objectSpread({},item),{},{quantity:action.payload.quantity}):item);case'CLEAR_CART':return[];default:return state;}};// Proveedor del contexto\nexport const CartProvider=_ref=>{let{children}=_ref;const[cart,dispatch]=useReducer(cartReducer,[],()=>{const localData=localStorage.getItem('cart');return localData?JSON.parse(localData):[];});// Sincronizar con localStorage\nuseEffect(()=>{localStorage.setItem('cart',JSON.stringify(cart));},[cart]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,dispatch},children:children});};// Hook para usar el contexto del carrito\nexport const useCart=()=>useContext(CartContext);","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsx","_jsx","CartContext","cartReducer","state","action","type","existingProduct","find","item","id","payload","map","_objectSpread","quantity","filter","CartProvider","_ref","children","cart","dispatch","localData","localStorage","getItem","JSON","parse","setItem","stringify","Provider","value","useCart"],"sources":["D:/usx-tienda/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\n\r\n// Crear el contexto\r\nconst CartContext = createContext();\r\n\r\n// Reducer para manejar acciones del carrito\r\nconst cartReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TO_CART':\r\n            // Verificar si el producto ya está en el carrito\r\n            const existingProduct = state.find(item => item.id === action.payload.id);\r\n            if (existingProduct) {\r\n                return state.map(item =>\r\n                    item.id === action.payload.id\r\n                        ? { ...item, quantity: item.quantity + action.payload.quantity }\r\n                        : item\r\n                );\r\n            }\r\n            return [...state, action.payload];\r\n\r\n        case 'REMOVE_FROM_CART':\r\n            return state.filter(item => item.id !== action.payload.id);\r\n\r\n        case 'UPDATE_QUANTITY':\r\n            return state.map(item =>\r\n                item.id === action.payload.id\r\n                    ? { ...item, quantity: action.payload.quantity }\r\n                    : item\r\n            );\r\n\r\n        case 'CLEAR_CART':\r\n            return [];\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Proveedor del contexto\r\nexport const CartProvider = ({ children }) => {\r\n    const [cart, dispatch] = useReducer(cartReducer, [], () => {\r\n        const localData = localStorage.getItem('cart');\r\n        return localData ? JSON.parse(localData) : [];\r\n    });\r\n\r\n    // Sincronizar con localStorage\r\n    useEffect(() => {\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    }, [cart]);\r\n\r\n    return (\r\n        <CartContext.Provider value={{ cart, dispatch }}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\n// Hook para usar el contexto del carrito\r\nexport const useCart = () => useContext(CartContext);\r\n"],"mappings":"kGAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAE/E;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAEnC;AACA,KAAM,CAAAO,WAAW,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACnC,OAAQA,MAAM,CAACC,IAAI,EACf,IAAK,aAAa,CACd;AACA,KAAM,CAAAC,eAAe,CAAGH,KAAK,CAACI,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,CAAC,CACzE,GAAIH,eAAe,CAAE,CACjB,MAAO,CAAAH,KAAK,CAACQ,GAAG,CAACH,IAAI,EACjBA,IAAI,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,CAAAG,aAAA,CAAAA,aAAA,IAClBJ,IAAI,MAAEK,QAAQ,CAAEL,IAAI,CAACK,QAAQ,CAAGT,MAAM,CAACM,OAAO,CAACG,QAAQ,GAC5DL,IACV,CAAC,CACL,CACA,MAAO,CAAC,GAAGL,KAAK,CAAEC,MAAM,CAACM,OAAO,CAAC,CAErC,IAAK,kBAAkB,CACnB,MAAO,CAAAP,KAAK,CAACW,MAAM,CAACN,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,CAAC,CAE9D,IAAK,iBAAiB,CAClB,MAAO,CAAAN,KAAK,CAACQ,GAAG,CAACH,IAAI,EACjBA,IAAI,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,CAAAG,aAAA,CAAAA,aAAA,IAClBJ,IAAI,MAAEK,QAAQ,CAAET,MAAM,CAACM,OAAO,CAACG,QAAQ,GAC5CL,IACV,CAAC,CAEL,IAAK,YAAY,CACb,MAAO,EAAE,CAEb,QACI,MAAO,CAAAL,KAAK,CACpB,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAY,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACrC,KAAM,CAACE,IAAI,CAAEC,QAAQ,CAAC,CAAGtB,UAAU,CAACK,WAAW,CAAE,EAAE,CAAE,IAAM,CACvD,KAAM,CAAAkB,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC9C,MAAO,CAAAF,SAAS,CAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,CAAG,EAAE,CACjD,CAAC,CAAC,CAEF;AACAtB,SAAS,CAAC,IAAM,CACZuB,YAAY,CAACI,OAAO,CAAC,MAAM,CAAEF,IAAI,CAACG,SAAS,CAACR,IAAI,CAAC,CAAC,CACtD,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV,mBACIlB,IAAA,CAACC,WAAW,CAAC0B,QAAQ,EAACC,KAAK,CAAE,CAAEV,IAAI,CAAEC,QAAS,CAAE,CAAAF,QAAA,CAC3CA,QAAQ,CACS,CAAC,CAE/B,CAAC,CAED;AACA,MAAO,MAAM,CAAAY,OAAO,CAAGA,CAAA,GAAMjC,UAAU,CAACK,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}